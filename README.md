# Weather

### **О проекте**
#### Стек: 
- `iOS 15.0`
> Использовал только для привязки к топ констрейнту клавиатуры, некоторых настроек кнопки с помощью конфигураций и проверки статуса разрешил ли пользователь пользоваться локацией

> Все остально реализовано для поддержи iOS 13.0

- `Swift`, `UIKit`, `MVVM+c`, `URLSession`, `FileManager`
##### Погодное приложение со следующими возможностями:
- Поиск интересующего города
- Добавление в избранное
- Удаление из избранного
- Просмотр интересующего прогноза
- Просмотр в списке избранного краткой сводки о погоде

###### Проект разрабатывался в рамках учебного курса и был одной из дипломных работ.<br> Так как изначально опыта было очень мало, код проекта был написан плохо, поэтому я провел полный рефакторинг кода. 
###### **Что было исправлено:** <br> - Координатор, пересмотрел его работу, убрал ненужные сущности, изменил наименования <br> - Реализовал создание модулей с помощью фабрики <br> - Реализовал комфортный в использовании API Client <br> - Изменил реализацию использованияя бизнес логики для всех необходимых обьектов, чтобы соответствовать выбранной архитектуре. <br> - Убрал статические зависимости и практически везде отказался от Синглтонов. <br> - Переработал transition анимацию <br> - Переработал все модели

#### Какие были трудности:
> В самом начале трудностей было просто огромное кол-во, боюсь их тут перечислять, получится неплохой такой доклад :D 

- Большее кол-во времени во время рефакторинга я провел с Custom Transition Animation. 
    - Проблемы были следующие:
    1. Если экран с таблицей еще не показывался, то при push/pop на него, в вызове функции animateTransition(using:) таблица еще не успевает разместить свои ячейки, соответственно неизвестно в какую область сворачивать текущий экран.
    2. Если придерживаться логики что детальный экран всега root, а экран с таблицей будет всегда пушиться, возникает предыдущая проблема + необходимо обладать информацией о том в какю ячейку сворачивать экран и какой был оффсет при предыдущем нахождении на экране, чтобы при пуше мы вернулись точно к тому же состоянию.
    3. Как реализовать API для использования моего транзишена, чтобы он был наиболее удобный и переиспользуемый.
    -
    > В рамках диплома не было задачи реализовывать такую анимацию, но т.к. я хотел попробовать повторить дизайн стандартного погодного iOS приложения, мне стало очень интересно как это возможно реализовать.

### Приложение в движении
|Запуск приложения|Детальный экран|
|:-:|:-:|
|![Launch App][launchApp]|![Detail Screen][detail]

### Анимация перехода
|Custom transition|Slow|
|:-:|:-:|
|![Standart transition anim][standartTransition]|![Slow transition anim][slowTransition]|

### Экран избранного
|Поиск городов|Работа с избранным|
|:-:|:-:|
[![search][search]|![Add and Remove from favorites][addRemove]|

[launchApp]: https://github.com/Dmmolod/Weather/blob/master/Gifs/launchApp.gif
[detail]: https://github.com/Dmmolod/Weather/blob/master/Gifs/fullDetailScreen.gif
[standartTransition]: https://github.com/Dmmolod/Weather/blob/master/Gifs/standartTransitionAnimation.gif
[slowTransition]: https://github.com/Dmmolod/Weather/blob/master/Gifs/slowTransitionAnimation.gif
[addRemove]: https://github.com/Dmmolod/Weather/blob/master/Gifs/addAndRemove.gif
[search]: https://github.com/Dmmolod/Weather/blob/master/Gifs/searchAnimation.gif
